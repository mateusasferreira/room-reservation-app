<div style="max-width: 500px">

  <%= form_with(model: reserva) do |form| %>
    <% if reserva.errors.any? %>
      <div class="alert alert-danger" role="alert">
        
          <% reserva.errors.each do |error| %>
            <%= error.full_message %>
          <% end %>
      </div>
    <% end %>
    <% date = params[:data]%>
    <%if date %>
    <h4>Reservar sala para <%=l date.to_datetime, format: :details%></h4>
    <p class="fs-6"><strong>Solicitante: </strong><%= current_user.email%></p>
    <%end%>
    <div class="field">
      <%= form.text_field :solicitante, :value => current_user.email, type: :hidden, :required => 'required'%>
    </div>

    <div class="field">
      
      <%= form.text_field :data, :value => date.to_datetime.utc, type: :hidden, :required => 'required' %>
    </div>

    <div class="mb-3">
      <%= form.label :descricao, 'DescriÃ§Ã£o', class: "form-label" %>
      <%= form.text_field :descricao, :required => 'required', class: "form-control" %>
    </div>
    
    <div class="field">
      <%= form.text_field :user_id, :value => current_user.id, type: :hidden, :required => 'required'%>
    </div>

    <div class="action">
      <%= form.submit 'Reservar Sala', class: "btn btn-primary text-light mb-1" %>
    </div>
  <% end %>

</div>

